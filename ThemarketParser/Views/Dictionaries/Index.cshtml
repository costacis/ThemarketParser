@model ThemarketParser.Models.DictionaryViewModel
@{
    ViewData["Title"] = "Справочники";
}

<h1>Справочники</h1>
<a type="button" id="btnLoad" class="btn btn-outline-warning mb-2" asp-controller="Dictionaries" asp-action="GetData">ПЕРЕЗАГРУЗИТЬ ДАННЫЕ</a>
<div class="accordion" id="accordionExample">
  <div class="accordion-item">
    <h2 class="accordion-header" id="headingOne">
      <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
        CONDITION (@Model.conditions.Count())
      </button>
    </h2>
    <div id="collapseOne" class="accordion-collapse collapse show" aria-labelledby="headingOne" data-bs-parent="#accordionExample">
      <div class="accordion-body">
        @await Html.PartialAsync("ConditionsPartial", Model.conditions)
      </div>
    </div>
  </div>
  <div class="accordion-item">
    <h2 class="accordion-header" id="headingTwo">
      <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
        CATEGORY (@Model.sexCategories.Count())
      </button>
    </h2>
    <div id="collapseTwo" class="accordion-collapse collapse" aria-labelledby="headingTwo" data-bs-parent="#accordionExample">
      <div class="accordion-body">
        @await Html.PartialAsync("CategoriesPartial", Model.sexCategories)
      </div>
    </div>
  </div>
  <div class="accordion-item">
    <h2 class="accordion-header" id="headingThree">
      <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
        SIZE (@Model.sizes.Count())
      </button>
    </h2>
    <div id="collapseThree" class="accordion-collapse collapse" aria-labelledby="headingThree" data-bs-parent="#accordionExample">
      <div class="accordion-body">
        @await Html.PartialAsync("SizesPartial", Model.sizes)
      </div>
    </div>
  </div>
  <div class="accordion-item">
    <h2 class="accordion-header" id="headingFour">
      <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseFour" aria-expanded="false" aria-controls="collapseFour">
        BRAND (@Model.brands.Count())
      </button>
    </h2>
    <div id="collapseFour" class="accordion-collapse collapse" aria-labelledby="headingFour" data-bs-parent="#accordionExample">
      <div class="accordion-body">
        @await Html.PartialAsync("BrandsPartial", Model.brands)
      </div>
    </div>
  </div>
  <div class="accordion-item">
    <h2 class="accordion-header" id="headingFive">
      <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseFive" aria-expanded="false" aria-controls="collapseFive">
        CITY (@Model.cities.Count())
      </button>
    </h2>
    <div id="collapseFive" class="accordion-collapse collapse" aria-labelledby="headingFive" data-bs-parent="#accordionExample">
      <div class="accordion-body">
        @await Html.PartialAsync("CitiesPartial", Model.cities)
      </div>
    </div>
  </div>
</div>
@section Scripts {
	<script type="text/javascript">
	var btnLoad = document.getElementById('btnLoad');
	btnLoad.addEventListener('click', function() {
		document.getElementById("accordionExample").innerHTML = '<div class="d-flex justify-content-center"><div class="spinner-border" role="status"><span class="visually-hidden">Loading...</span></div></div>';
	}, false);
	</script>
}
